<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>GAME</h1>
</body>
<script>
    // Define variables for the game
    let computerSelection;
    let playerSelection;
    // Create function to get computer's choice
    function getComputerChoice(){
        //Random index from 1 to 3 
        let compIndex = Math.floor(Math.random() * 3);
        //Assign each index with R/P/S
        let choices = ["rock","paper","scissor"];
        let compChoices = choices[compIndex];
        //Return the choice
        return compChoices;
    }
    // Create function to play a single round
    function playRound(playerSelection,computerSelection){
        computerSelection = getComputerChoice();
        // Get input from player
        playerSelection = prompt("Rock/Paper/Scissor?");
        //Make the input case sensitive by lower it's case.
        playerSelectionSens = playerSelection.toLowerCase();
        //Combine
            //Tie (Using if)
        if(playerSelectionSens === computerSelection){
            return "Tie!";
        }
            //Win or lose (Using switch)
        switch(true){
            case playerSelectionSens === "rock" && computerSelection === "scissor":
            case playerSelectionSens === "paper" && computerSelection === "rock":
            case playerSelectionSens === "scissor" && computerSelection === "paper":
                return `You won! ${playerSelectionSens} > ${computerSelection} `;
                break;

            default:
                return `Sorry,you loss! ${playerSelectionSens} < ${computerSelection}`;
        }
    }
    // Create function to play 5 rounds in a row and return the final winner
    function game(){
        //Define score variable
        let playerScore = 0;
        //Loop 5 times
        for(let i = 0; i < 5; i++){
            computerSelection = getComputerChoice();
            // Get input from player
            playerSelection = prompt("Rock/Paper/Scissor?");
            gameResult = playRound(playerSelection,computerSelection);
            //Add/Sub the score base on win or lose
            playerScore += gameResult[0] = "Y" ? 1 : gameResult[0] = "S" ? -1 : 0;
        }
        //Display the final winner of the game
        if(playerScore > 0 ){
            return `You won! Your score is ${playerScore}`;
        }else if(playerScore === 0){
            return `Tie! Your score is 0`;
        }else{
            return `Computer won! Your score is ${playerScore}`; 
        }
    }
    console.log(game());
    </script>
</html>